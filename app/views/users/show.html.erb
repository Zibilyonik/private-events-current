
<%= render "shared/header"%>

<p id="notice"><%= notice %></p>

<h1>
  <strong>Name:</strong>
  <%= @user.name %>
</h1>

<h2>
  <strong>Email:</strong>
  <%= @user.email %>
</h2>

<%= link_to "Create New Event", new_event_path %>

<h3>Upcoming Events</h3>

<% @user_upcoming_events.each do | event | %>
    <div class="box">
        <article class="media">
            <div class="media-left">
                <figure class="image is-64x64">
                    <img src="https://bulma.io/images/placeholders/64x64.png" alt="">
                </figure>
            </div>   
            <div class="media-content">
                <div class="content">
                <strong><%= event.title %></strong><br />
                <small><%= event.description %></small><br />
                <small><%= event.date %></small><br />
                <p><%= event.creator.name %></p>
                </div>
            </div>
        </article>
    </div>   
<% end %>

<h3>Past Events</h3>

<% @user_past_events.each do | event | %>
    <div class="box">
        <article class="media">
            <div class="media-left">
                <figure class="image is-64x64">
                    <img src="https://bulma.io/images/placeholders/64x64.png" alt="">
                </figure>
            </div>   
            <div class="media-content">
                <div class="content">
                <strong><%= event.title %></strong><br />
                <small><%= event.description %></small><br />
                <small><%= event.date %></small><br />
                <p><%= event.creator.name %></p>
                </div>
            </div>
        </article>
    </div>  
<% end %>

<h3>Attended Events</h3>

<% @user.attended_events.each do | att_event | %>
    <div class="box">
        <article class="media">
            <div class="media-left">
                <figure class="image is-64x64">
                    <img src="https://bulma.io/images/placeholders/64x64.png" alt="">
                </figure>
            </div>   
            <div class="media-content">
                <div class="content">
                <strong><%= link_to att_event.title, event_path(att_event.id) %></strong><br />
                <small><%= att_event.description %></small><br />
                <small><%= att_event.date %></small><br />
                <p><%= link_to att_event.creator.name, user_path(att_event.creator.id) %></p>
                </div>
            </div>
        </article>
    </div>
<% end %>

<%= link_to 'Edit', edit_user_path(@user) %> |
<%= link_to 'Delete', @user, method: :delete, data: { confirm: 'Are you sure?' } %>
<%= link_to 'Back', users_path %>
